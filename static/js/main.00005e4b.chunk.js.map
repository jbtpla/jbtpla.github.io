{"version":3,"sources":["components/leaderboard_item/index.js","components/leaderboard/consts.js","components/leaderboard/index.js","App.js","reportWebVitals.js","index.js"],"names":["Container","styled","li","props","rank","Rank","span","DisplayName","Score","ProfilePicture","img","LeaderboardItem","useState","score","setScore","prevUserRef","useRef","useLayoutEffect","current","ANIMATION_DURATION","difference","timeStart","Date","now","requestAnimationFrame","loop","timeElapsed","src","picture","alt","displayName","jsonArray","ol","compareScore","a","b","updateUserRanks","users","updatedArray","index","Math","floor","random","additionalScore","newUsersArray","increaseScore","sort","map","user","Leaderboard","setUsers","useEffect","interval","setInterval","updatedUsers","updatedRanks","updatedUser","filter","updated","updateUsersArray","clearInterval","userID","div","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.00005e4b.chunk.js","sourcesContent":["import { useLayoutEffect, useRef, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Container = styled.li`\r\n  display: flex;\r\n  position: absolute;\r\n  width: 320px;\r\n  height: 36px;\r\n  top: ${props => 36 * props.rank}px;\r\n  transition: all 0.5s ease 0.5s;\r\n  font-size: 24px;\r\n  align-content: baseline;\r\n`\r\n\r\nconst Rank = styled.span`\r\n  color: black;\r\n  display: flex;\r\n  width: 22px;\r\n  justify-content: space-around;\r\n  padding-right: 6px;\r\n  @media (prefers-color-scheme: dark) {\r\n    color: white;\r\n  }\r\n`\r\n\r\nconst DisplayName = styled.span`\r\n  color: black;\r\n  display: inline-block;\r\n  padding-left: 6px;\r\n  @media (prefers-color-scheme: dark) {\r\n    color: white;\r\n  }\r\n`\r\n\r\nconst Score = styled.span`\r\n  color: black;\r\n  display: inline-block;\r\n  min-width: 50px;\r\n  padding-left: 6px;\r\n  margin-left: auto;\r\n  &:after {\r\n    content: 'pt';\r\n  }\r\n  @media (prefers-color-scheme: dark) {\r\n    color: white;\r\n  }\r\n`\r\n\r\nconst ProfilePicture = styled.img`\r\n  display: flex;\r\n  height: 24px;\r\n  width: 24px;\r\n  border-radius: 20px;\r\n  align-self: center;\r\n`\r\n\r\nconst LeaderboardItem = (props) => {\r\n    const [score, setScore] = useState(props.score)\r\n    let prevUserRef = useRef(props)\r\n\r\n    useLayoutEffect(() => {\r\n        if(!prevUserRef.current) return\r\n        if(prevUserRef.current.score !== props.score) {\r\n            const ANIMATION_DURATION = 100\r\n            const difference = props.score - score\r\n            const timeStart = Date.now()\r\n\r\n            const loop = () => {\r\n                let timeElapsed = Date.now() - timeStart\r\n                if (timeElapsed > ANIMATION_DURATION) timeElapsed = ANIMATION_DURATION\r\n                const step = (difference + timeElapsed) % ANIMATION_DURATION\r\n                setScore(score + step)\r\n                if (timeElapsed < ANIMATION_DURATION) requestAnimationFrame(loop)\r\n            }\r\n            requestAnimationFrame(loop)\r\n            setScore(props.score)\r\n        }\r\n    }, [props.score])\r\n\r\n    return(\r\n        <Container rank={props.rank}>\r\n            <Rank>{props.rank}</Rank>\r\n            <ProfilePicture src={props.picture} alt=\"Profile Picture\"/>\r\n            <DisplayName>{props.displayName}</DisplayName>\r\n            <Score>{score}</Score>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default LeaderboardItem\r\n\r\nLeaderboardItem.propTypes = {\r\n    displayName: PropTypes.string,\r\n    picture: PropTypes.string,\r\n    rank: PropTypes.number,\r\n    score: PropTypes.number,\r\n    userID: PropTypes.string\r\n}","export const TWO_SECONDS_MS = 2000\r\n\r\nexport const jsonArray = [\r\n    {\r\n        \"userID\": \"4f4d5462-4a9f-483e-b620-9df9c13ec840\",\r\n        \"displayName\": \"Jone\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_525BEE6E-94B5-4C7F-AB47-1A6F9735EE82.jpg\",\r\n        \"score\": 157000\r\n    },\r\n    {\r\n        \"userID\": \"2c0c5c67-1cfc-4b99-992e-2918b8a0dcc1\",\r\n        \"displayName\": \"Victoria\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_8390066D-46E4-4741-968D-9FF84B276B52.jpg\",\r\n        \"score\": 46200\r\n    },\r\n    {\r\n        \"userID\": \"5100dedb-c2e5-48da-aeaf-83fa49a3482d\",\r\n        \"displayName\": \"Joy\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_CE9F51C5-7006-4DE6-9059-9AEA98F7DF13.jpg\",\r\n        \"score\": 38800\r\n    },\r\n    {\r\n        \"userID\": \"9ece1a05-eb2d-403a-b179-ccbfc0ad9250\",\r\n        \"displayName\": \"Quinn\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_2A847B03-7BE8-4645-B62A-07201A90EDEF.jpg\",\r\n        \"score\": 33400\r\n    },\r\n    {\r\n        \"userID\": \"32afdaac-a83b-481f-bc5a-1e85c3188c6f\",\r\n        \"displayName\": \"Sheenalo\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_95D163ED-6BF8-4D09-897C-B2E5320BE462.jpg\",\r\n        \"score\": 31600\r\n    },\r\n    {\r\n        \"userID\": \"a2e0bdd3-0aa0-4fc4-91c2-b8ad00d26211\",\r\n        \"displayName\": \"Charlene\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_a943a748-16c8-4afa-87a6-8b6ac0e1f47a.jpg\",\r\n        \"score\": 30800\r\n    },\r\n    {\r\n        \"userID\": \"47a35fbb-ce6b-4c82-9973-2a9391b6478d\",\r\n        \"displayName\": \"LeonaBaby\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_B850B9FF-E1FD-4DFA-8737-E67E32B71B8B.jpg\",\r\n        \"score\": 22300\r\n    },\r\n    {\r\n        \"userID\": \"db8c493f-0a53-4b5f-8ffe-b0967e076e03\",\r\n        \"displayName\": \"Sunny\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_1A36F357-6EA2-4C77-B26F-588319F26EF2.jpg\",\r\n        \"score\": 17800\r\n    },\r\n    {\r\n        \"userID\": \"44e1f164-831d-4732-8e49-0cda24369000\",\r\n        \"displayName\": \"ImWord\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_4f761f7d-0b85-45dd-90ad-1444c548abd6.jpg\",\r\n        \"score\": 17300\r\n    },\r\n    {\r\n        \"userID\": \"416089f2-f66a-411a-b275-2151d86dcaeb\",\r\n        \"displayName\": \"Dophine\",\r\n        \"picture\": \"https://assets-17app.akamaized.net/THUMBNAIL_59946513-FC72-4444-8CC9-991BFFF19C22.jpg\",\r\n        \"score\": 15400\r\n    }\r\n]","import React, { useState, useEffect } from 'react'\r\nimport styled from  'styled-components'\r\nimport LeaderboardItem from '../leaderboard_item'\r\nimport { jsonArray, TWO_SECONDS_MS } from'./consts'\r\n\r\nconst Container = styled.ol`\r\n  position: relative;\r\n  display: flex;\r\n  min-width: 400px;\r\n  min-height: 600px;\r\n  margin: 0 auto;\r\n`\r\nconst compareScore = (a,b) => {\r\n    return a.score < b.score ? 1 : -1\r\n}\r\n\r\nconst increaseScore = (users) => {\r\n    const index = Math.floor((Math.random() * 10))\r\n    const additionalScore = Math.floor((Math.random() * 1000))\r\n    const newUsersArray = [...users]\r\n    newUsersArray[index].score += additionalScore\r\n    return newUsersArray\r\n}\r\n\r\nconst updateUserRanks = (users) => {\r\n    const updatedArray = increaseScore(users)\r\n\r\n    return updatedArray.sort(compareScore).map((user, index) => {\r\n        return {...user, rank: index+1}\r\n    })\r\n}\r\n\r\nconst updateUsersArray = (users) => {\r\n    const updatedRanks = updateUserRanks(users)\r\n\r\n    const newUsersArray = [...users]\r\n        return newUsersArray.map((user) => {\r\n            const updatedUser = updatedRanks.filter((updated) => updated.displayName === user.displayName)\r\n            return {\r\n                ...user,\r\n                rank: updatedUser[0].rank,\r\n                score: updatedUser[0].score\r\n            }\r\n    })\r\n}\r\n\r\nconst Leaderboard = () => {\r\n    const [users, setUsers] = useState([...jsonArray])\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            const updatedUsers = updateUsersArray(users)\r\n            setUsers(updatedUsers)\r\n        }, TWO_SECONDS_MS)\r\n\r\n        return () => clearInterval(interval)\r\n    })\r\n\r\n    return (\r\n        <Container>\r\n            {users.map((user) => {\r\n                return <LeaderboardItem\r\n                    rank={user.rank}\r\n                    userID={user.userID}\r\n                    displayName={user.displayName}\r\n                    score={user.score}\r\n                    picture={user.picture}\r\n                />\r\n            })}\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default Leaderboard\r\n","import Leaderboard from './components/leaderboard'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  min-height: 100vh;\n  @media (prefers-color-scheme: dark) {\n    background-color: #282c34;\n  }\n`\n\nfunction App() {\n  return (\n    <Container>\n      <Leaderboard />\n    </Container>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}